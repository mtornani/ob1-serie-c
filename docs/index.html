<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>OB1 Radar - Serie C Scout</title>
    <meta name="description" content="Scout AI per Serie C e Serie D italiana">
    <meta name="theme-color" content="#0f172a">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icons/icon-192.svg">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- Pull to Refresh Indicator -->
    <div class="pull-indicator" id="pullIndicator">
        <span class="pull-icon">‚Üª</span>
        <span class="pull-text">Rilascia per aggiornare</span>
    </div>

    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="logo">
                <span class="logo-icon">üéØ</span>
                <div class="logo-text">
                    <h1>OB1 Radar</h1>
                    <span class="logo-subtitle">Serie C & D Scout</span>
                </div>
            </div>
            <div class="header-actions">
                <button class="btn-icon" id="themeToggle" aria-label="Cambia tema">
                    <span class="icon-light">‚òÄÔ∏è</span>
                    <span class="icon-dark">üåô</span>
                </button>
                <button class="btn-icon" id="refreshBtn" aria-label="Aggiorna">
                    üîÑ
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Search Bar -->
        <div class="search-container">
            <input type="search"
                   class="search-input"
                   id="searchInput"
                   placeholder="Cerca giocatore, ruolo, club..."
                   autocomplete="off">
            <span class="search-icon">üîç</span>
        </div>

        <!-- Filter Chips -->
        <div class="filter-section">
            <div class="filter-chips" id="filterChips">
                <button class="filter-chip active" data-filter="all">
                    Tutti
                </button>
                <button class="filter-chip" data-filter="hot">
                    üî• HOT
                </button>
                <button class="filter-chip" data-filter="warm">
                    ‚ö° WARM
                </button>
                <button class="filter-chip" data-filter="cold">
                    ‚ùÑÔ∏è COLD
                </button>
            </div>
            <div class="filter-dropdowns">
                <select class="filter-select" id="roleFilter">
                    <option value="">üìç Ruolo</option>
                    <option value="PO">Portiere</option>
                    <option value="DC">Difensore Centrale</option>
                    <option value="TD">Terzino Destro</option>
                    <option value="TS">Terzino Sinistro</option>
                    <option value="CC">Centrocampista</option>
                    <option value="ED">Esterno Destro</option>
                    <option value="ES">Esterno Sinistro</option>
                    <option value="TQ">Trequartista</option>
                    <option value="AT">Attaccante</option>
                </select>
                <select class="filter-select" id="typeFilter">
                    <option value="">üíº Tipo</option>
                    <option value="svincolato">Svincolato</option>
                    <option value="rescissione">Rescissione</option>
                    <option value="prestito">Prestito</option>
                    <option value="scadenza">Scadenza</option>
                </select>
                <select class="filter-select" id="periodFilter">
                    <option value="">üìÖ Periodo</option>
                    <option value="1">Oggi</option>
                    <option value="3">Ultimi 3 giorni</option>
                    <option value="7">Ultima settimana</option>
                    <option value="30">Ultimo mese</option>
                    <option value="all">Tutto</option>
                </select>
            </div>
        </div>

        <!-- Stats Summary -->
        <div class="stats-bar">
            <div class="stat-item">
                <span class="stat-value" id="totalCount">0</span>
                <span class="stat-label">Totali</span>
            </div>
            <div class="stat-divider"></div>
            <div class="stat-item hot">
                <span class="stat-value" id="hotCount">0</span>
                <span class="stat-label">üî• HOT</span>
            </div>
            <div class="stat-divider"></div>
            <div class="stat-item warm">
                <span class="stat-value" id="warmCount">0</span>
                <span class="stat-label">‚ö° WARM</span>
            </div>
            <div class="stat-divider"></div>
            <div class="stat-item">
                <span class="stat-value" id="recentCount">0</span>
                <span class="stat-label">Oggi</span>
            </div>
        </div>

         <!-- Opportunities Grid -->
         <div class="opportunities-grid" id="opportunitiesGrid">
             <!-- Skeleton Loading -->
             <div class="opportunity-card skeleton">
                 <div class="skeleton-header">
                     <div class="skeleton-line title"></div>
                     <div class="skeleton-line badge"></div>
                 </div>
                 <div class="skeleton-body">
                     <div class="skeleton-line meta"></div>
                     <div class="skeleton-line meta"></div>
                     <div class="skeleton-line breakdown"></div>
                 </div>
                 <div class="skeleton-actions">
                     <div class="skeleton-line action"></div>
                     <div class="skeleton-line action"></div>
                 </div>
             </div>
             <div class="opportunity-card skeleton">
                 <div class="skeleton-header">
                     <div class="skeleton-line title"></div>
                     <div class="skeleton-line badge"></div>
                 </div>
                 <div class="skeleton-body">
                     <div class="skeleton-line meta"></div>
                     <div class="skeleton-line meta"></div>
                     <div class="skeleton-line breakdown"></div>
                 </div>
                 <div class="skeleton-actions">
                     <div class="skeleton-line action"></div>
                     <div class="skeleton-line action"></div>
                 </div>
             </div>
             <div class="opportunity-card skeleton">
                 <div class="skeleton-header">
                     <div class="skeleton-line title"></div>
                     <div class="skeleton-line badge"></div>
                 </div>
                 <div class="skeleton-body">
                     <div class="skeleton-line meta"></div>
                     <div class="skeleton-line meta"></div>
                     <div class="skeleton-line breakdown"></div>
                 </div>
                 <div class="skeleton-actions">
                     <div class="skeleton-line action"></div>
                     <div class="skeleton-line action"></div>
                 </div>
             </div>
         </div>

        <!-- Empty State -->
        <div class="empty-state" id="emptyState" style="display: none;">
            <div class="empty-icon">üîç</div>
            <h3>Nessuna opportunita trovata</h3>
            <p>Il sistema si aggiorna ogni 6 ore.<br>Le prossime opportunita appariranno qui.</p>
        </div>

        <!-- Last Update -->
        <div class="last-update" id="lastUpdate">
            Ultimo aggiornamento: --
        </div>
    </main>

    <!-- Bottom Navigation (Mobile) -->
    <nav class="bottom-nav">
        <a href="#" class="nav-item active" data-view="home">
            <span class="nav-icon">üè†</span>
            <span class="nav-label">Home</span>
        </a>
        <a href="#" class="nav-item" data-view="search">
            <span class="nav-icon">üîç</span>
            <span class="nav-label">Cerca</span>
        </a>
        <a href="#" class="nav-item" data-view="saved">
            <span class="nav-icon">üíæ</span>
            <span class="nav-label">Salvati</span>
        </a>
        <a href="#" class="nav-item" data-view="stats">
            <span class="nav-icon">üìä</span>
            <span class="nav-label">Stats</span>
        </a>
    </nav>

    <!-- Detail Modal -->
    <div class="modal-overlay" id="modalOverlay">
        <div class="modal" id="detailModal">
            <div class="modal-header">
                <div>
                    <h2 id="modalTitle">Dettagli Giocatore</h2>
                    <p class="modal-player-info" id="modalPlayerInfo"></p>
                </div>
                <button class="modal-close" id="modalClose" aria-label="Chiudi modale">‚úï</button>
            </div>
            <div class="modal-content" id="modalContent">
                <!-- Dynamic content -->
            </div>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Onboarding Tutorial -->
    <div class="onboarding-overlay" id="onboardingOverlay">
        <div class="onboarding-container">
            <div class="onboarding-progress">
                <span class="progress-dot active" data-step="1"></span>
                <span class="progress-dot" data-step="2"></span>
                <span class="progress-dot" data-step="3"></span>
                <span class="progress-dot" data-step="4"></span>
                <span class="progress-dot" data-step="5"></span>
            </div>

            <div class="onboarding-steps">
                <div class="onboarding-step active" data-step="1">
                    <div class="step-icon">üéØ</div>
                    <h2>Benvenuto in OB1 Radar</h2>
                    <p>Il tuo assistente AI per lo scouting in <strong>Serie C e Serie D</strong>.</p>
                    <p class="step-subtitle">Scopri opportunita di mercato prima degli altri.</p>
                </div>

                <div class="onboarding-step" data-step="2">
                    <div class="step-icon">üìä</div>
                    <h2>Sistema di Scoring OB1</h2>
                    <p>Ogni giocatore ha un <strong>OB1 Score</strong> da 1 a 100 basato su 5 criteri:</p>
                    <div class="score-breakdown">
                        <div class="breakdown-item">
                            <span class="breakdown-icon">üìç</span>
                            <div>
                                <strong>Posizione</strong> (25%)
                                <span class="breakdown-score" data-breakdown="position">85</span>
                            </div>
                        </div>
                        <div class="breakdown-item">
                            <span class="breakdown-icon">üéÇ</span>
                            <div>
                                <strong>Et√†</strong> (15%)
                                <span class="breakdown-score" data-breakdown="age">90</span>
                            </div>
                        </div>
                        <div class="breakdown-item">
                            <span class="breakdown-icon">‚öΩ</span>
                            <div>
                                <strong>Stile</strong> (15%)
                                <span class="breakdown-score" data-breakdown="style">70</span>
                            </div>
                        </div>
                        <div class="breakdown-item">
                            <span class="breakdown-icon">üìÖ</span>
                            <div>
                                <strong>Disponibilit√†</strong> (20%)
                                <span class="breakdown-score" data-breakdown="availability">80</span>
                            </div>
                        </div>
                        <div class="breakdown-item">
                            <span class="breakdown-icon">üí∞</span>
                            <div>
                                <strong>Budget</strong> (20%)
                                <span class="breakdown-score" data-breakdown="budget">85</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="onboarding-step" data-step="3">
                    <div class="step-icon">üîç</div>
                    <h2>Filtra e Cerca</h2>
                    <p>Usa i <strong>filtri</strong> per trovare esattamente quello che cerchi:</p>
                    <ul class="feature-list">
                        <li>üî• Filtra per priorita (HOT/WARM/COLD)</li>
                        <li>üìç Filtra per ruolo (DC, CC, AT...)</li>
                        <li>üíº Filtra per tipo (Svincolato, Prestito...)</li>
                        <li>üîé Cerca per nome o club</li>
                    </ul>
                </div>

                <div class="onboarding-step" data-step="4">
                    <div class="step-icon">üí°</div>
                    <h2>Spiegazioniscore</h2>
                    <p>Ogni giocatore mostra <strong>perch√©</strong> ha quel punteggio:</p>
                    <ul class="feature-list">
                        <li>Analisi posizione e adattamento</li>
                        <li>Valutazione et√† e contesto</li>
                        <li>Matching stile di gioco</li>
                        <li>Costi e disponibilit√†</li>
                    </ul>
                </div>

                <div class="onboarding-step" data-step="5">
                    <div class="step-icon">üîî</div>
                    <h2>Notifiche Telegram</h2>
                    <p>Ricevi <strong>alert automatici</strong> quando troviamo opportunita HOT!</p>
                    <div class="telegram-cta">
                        <span class="telegram-icon">üì±</span>
                        <div>
                            <strong>Collegati al Bot:</strong>
                            <a href="https://t.me/Ob1LegaPro_bot" target="_blank" class="telegram-link">@Ob1LegaPro_bot</a>
                        </div>
                    </div>
                    <p class="step-subtitle">Il sistema si aggiorna ogni 6 ore automaticamente.</p>
                </div>
            </div>

            <div class="onboarding-nav">
                <button class="btn-skip" id="skipTutorial">Salta</button>
                <div class="nav-buttons">
                    <button class="btn-prev" id="prevStep" style="display: none;">‚Üê Indietro</button>
                    <button class="btn-next" id="nextStep">Avanti ‚Üí</button>
                    <button class="btn-finish" id="finishTutorial" style="display: none;">Inizia! üöÄ</button>
                </div>
            </div>
        </div>
    </div>

    <script src="js/app.js"></script>
</body>
</html>
